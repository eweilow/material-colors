function runColors(o){for(var t=o.querySelectorAll("["+HOOK_COLOR_ATTRIBUTE+"],["+HOOK_COLOR_BG_ATTRIBUTE+"]"),e=0;e<t.length;e++){var T=t[e],r=!1,n=!1;do r=T.hasAttribute(COLOR_DEFINE_ATTRIBUTE),n=T.hasAttribute(BG_DEFINE_ATTRIBUTE);while(!r&&!n&&(T=T.parentElement));var A=t[e];if(r){var _=DEFAULT_COLOR;T&&(_=T.getAttribute(COLOR_DEFINE_ATTRIBUTE)),A.hasAttribute(HOOK_COLOR_ATTRIBUTE)?A.setAttribute(COLOR_ACTUAL_ATTRIBUTE,_):A.setAttribute(COLOR_ACTUAL_ATTRIBUTE,!1),A.hasAttribute(HOOK_COLOR_BG_ATTRIBUTE)?A.setAttribute(BG_ACTUAL_ATTRIBUTE,_):A.setAttribute(BG_ACTUAL_ATTRIBUTE,!1),A.setAttribute(LIGHT_ATTRIBUTE,!1)}else{var _=DEFAULT_BG;T&&(_=T.getAttribute(BG_DEFINE_ATTRIBUTE)),A.setAttribute(LIGHT_ATTRIBUTE,window.colors.colors[_].light)}}}function runBg(o){for(var t=o.querySelectorAll("["+HOOK_BG_ATTRIBUTE+"]"),e=0;e<t.length;e++){for(var T=t[e];!T.hasAttribute(BG_DEFINE_ATTRIBUTE)&&(T=T.parentElement););var r=t[e],n=DEFAULT_BG;T&&(n=T.getAttribute(BG_DEFINE_ATTRIBUTE)),r.setAttribute(BG_ACTUAL_ATTRIBUTE,n)}}function benchmark(){for(var o=performance.now(),t=1e4,e=0;t>e;e++)runColors(document),runBg(document);alert((performance.now()-o)/t+"ms per operation, total: "+(performance.now()-o))}function applyForRandom(o){for(var t=Object.keys(window.colors.colors),e=document.querySelectorAll("["+o+"='random']"),T=0;T<e.length;T++){var r=e[T];r.setAttribute(o,t[Math.floor(Math.random()*t.length)])}}var LIGHT_ATTRIBUTE="m-light",HOOK_COLOR_ATTRIBUTE="m-hook-color",HOOK_COLOR_BG_ATTRIBUTE="m-hook-color-bg",HOOK_BG_ATTRIBUTE="m-hook-bg",COLOR_DEFINE_ATTRIBUTE="m-color",BG_DEFINE_ATTRIBUTE="m-bg",COLOR_ACTUAL_ATTRIBUTE="m-actual-color",BG_ACTUAL_ATTRIBUTE="m-actual-bg",DEFAULT_COLOR="black-500",DEFAULT_BG="white-500";applyForRandom(BG_DEFINE_ATTRIBUTE),applyForRandom(COLOR_DEFINE_ATTRIBUTE),window.generateColors=function(o){var t=performance.now();o?o.parentNode&&(o=o.parentNode):o=document,runColors(o),runBg(o);var e=performance.now();console.log("Applying colors took: "+(e-t).toFixed(2)+"ms")},window.Polymer?window.addEventListener("WebComponentsReady",function(){window.generateColors(document)}):window.GenerateColorsOnLoad?window.onload(function(o){window.generateColors(document)}):window.generateColors(document);
//# sourceMappingURL=maps/script.min.js.map
