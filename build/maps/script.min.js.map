{"version":3,"sources":["script.js"],"names":["runColors","wrapper","all","querySelectorAll","HOOK_COLOR_ATTRIBUTE","HOOK_COLOR_BG_ATTRIBUTE","i","length","parent","isColor","isBg","hasAttribute","COLOR_DEFINE_ATTRIBUTE","BG_DEFINE_ATTRIBUTE","parentElement","initial","attribute","DEFAULT_COLOR","getAttribute","setAttribute","COLOR_ACTUAL_ATTRIBUTE","BG_ACTUAL_ATTRIBUTE","LIGHT_ATTRIBUTE","DEFAULT_BG","window","colors","light","runBg","allbg","HOOK_BG_ATTRIBUTE","benchmark","start","performance","now","count","document","alert","applyForRandom","attributeName","keys","Object","Math","floor","random","generateColors","element","parentNode","end","console","log","toFixed","Polymer","addEventListener","GenerateColorsOnLoad","onload","e"],"mappings":"AAaA,QAASA,WAAUC,GAEjB,IAAI,GADAC,GAAMD,EAAQE,iBAAiB,IAAIC,qBAAqB,MAAMC,wBAAwB,KAClFC,EAAI,EAAGA,EAAIJ,EAAIK,OAAQD,IAAK,CAClC,GAAIE,GAASN,EAAII,GAEbG,GAAU,EACVC,GAAO,CACX,GACED,GAAUD,EAAOG,aAAaC,wBAC9BF,EAAOF,EAAOG,aAAaE,4BAErBJ,IAAWC,IAAUF,EAASA,EAAOM,eAE7C,IAAIC,GAAUb,EAAII,EAClB,IAAGG,EAAS,CACV,GAAIO,GAAYC,aACbT,KACDQ,EAAYR,EAAOU,aAAaN,yBAE/BG,EAAQJ,aAAaP,sBACtBW,EAAQI,aAAaC,uBAAwBJ,GAE7CD,EAAQI,aAAaC,wBAAwB,GAE5CL,EAAQJ,aAAaN,yBACtBU,EAAQI,aAAaE,oBAAqBL,GAE1CD,EAAQI,aAAaE,qBAAqB,GAE5CN,EAAQI,aAAaG,iBAAiB,OACjC,CACL,GAAIN,GAAYO,UACbf,KACDQ,EAAYR,EAAOU,aAAaL,sBAElCE,EAAQI,aAAaG,gBAAiBE,OAAOC,OAAOA,OAAOT,GAAWU,SAK5E,QAASC,OAAM1B,GAEb,IAAI,GADA2B,GAAQ3B,EAAQE,iBAAiB,IAAI0B,kBAAkB,KACnDvB,EAAI,EAAGA,EAAIsB,EAAMrB,OAAQD,IAAK,CAEpC,IADA,GAAIE,GAASoB,EAAMtB,IACZE,EAAOG,aAAaE,uBAAyBL,EAASA,EAAOM,iBAEpE,GAAIC,GAAUa,EAAMtB,GAChBU,EAAYO,UACbf,KACDQ,EAAYR,EAAOU,aAAaL,sBAElCE,EAAQI,aAAaE,oBAAqBL,IAK9C,QAASc,aAGP,IAAI,GAFAC,GAAQC,YAAYC,MACpBC,EAAQ,IACJ5B,EAAI,EAAO4B,EAAJ5B,EAAWA,IACxBN,UAAUmC,UACVR,MAAMQ,SAERC,QAAOJ,YAAYC,MAAQF,GAASG,EAAQ,6BAA+BF,YAAYC,MAAQF,IAGjG,QAASM,gBAAeC,GAGtB,IAAI,GAFAC,GAAOC,OAAOD,KAAKf,OAAOC,OAAOA,QACjCG,EAAQO,SAAShC,iBAAiB,IAAImC,EAAc,cAChDhC,EAAI,EAAGA,EAAIsB,EAAMrB,OAAQD,IAAK,CACpC,GAAIE,GAASoB,EAAMtB,EACnBE,GAAOW,aAAamB,EAAeC,EAAKE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAKhC,WApF5E,GAAIe,iBAAkB,UAClBlB,qBAAuB,eACvBC,wBAA0B,kBAC1BwB,kBAAoB,YACpBjB,uBAAyB,UACzBC,oBAAsB,OAEtBO,uBAAyB,iBACzBC,oBAAsB,cAEtBJ,cAAgB,YAChBM,WAAa,WA4EjBc,gBAAexB,qBACfwB,eAAezB,wBAEfY,OAAOoB,eAAiB,SAASC,GAC/B,GAAId,GAAQC,YAAYC,KACpBY,GAEOA,EAAQC,aACjBD,EAAUA,EAAQC,YAFlBD,EAAUV,SAIZnC,UAAU6C,GACVlB,MAAMkB,EACN,IAAIE,GAAMf,YAAYC,KACtBe,SAAQC,IAAI,0BAA4BF,EAAMhB,GAAOmB,QAAQ,GAAK,OAEjE1B,OAAO2B,QACR3B,OAAO4B,iBAAiB,qBAAsB,WAC5C5B,OAAOoB,eAAeT,YAEfX,OAAO6B,qBAChB7B,OAAO8B,OAAO,SAASC,GACrB/B,OAAOoB,eAAeT,YAGxBX,OAAOoB,eAAeT","file":"script.min.js","sourcesContent":["var LIGHT_ATTRIBUTE = \"m-light\"; \nvar HOOK_COLOR_ATTRIBUTE = \"m-hook-color\";\nvar HOOK_COLOR_BG_ATTRIBUTE = \"m-hook-color-bg\";\nvar HOOK_BG_ATTRIBUTE = \"m-hook-bg\";\nvar COLOR_DEFINE_ATTRIBUTE = \"m-color\";\nvar BG_DEFINE_ATTRIBUTE = \"m-bg\";\n\nvar COLOR_ACTUAL_ATTRIBUTE = \"m-actual-color\";\nvar BG_ACTUAL_ATTRIBUTE = \"m-actual-bg\";\n\nvar DEFAULT_COLOR = \"black-500\";\nvar DEFAULT_BG = \"white-500\";\n\nfunction runColors(wrapper) {\n  var all = wrapper.querySelectorAll(\"[\"+HOOK_COLOR_ATTRIBUTE+\"],[\"+HOOK_COLOR_BG_ATTRIBUTE+\"]\");\n  for(var i = 0; i < all.length; i++) {\n    var parent = all[i];\n    \n    var isColor = false;\n    var isBg = false;\n    do {\n      isColor = parent.hasAttribute(COLOR_DEFINE_ATTRIBUTE)\n      isBg = parent.hasAttribute(BG_DEFINE_ATTRIBUTE);\n    }\n    while(!(isColor || isBg) && (parent = parent.parentElement));\n    \n    var initial = all[i];\n    if(isColor) {\n      var attribute = DEFAULT_COLOR;\n      if(parent) {\n        attribute = parent.getAttribute(COLOR_DEFINE_ATTRIBUTE);\n      }\n      if(initial.hasAttribute(HOOK_COLOR_ATTRIBUTE)) {\n        initial.setAttribute(COLOR_ACTUAL_ATTRIBUTE, attribute);\n      } else {\n        initial.setAttribute(COLOR_ACTUAL_ATTRIBUTE, false);\n      }\n      if(initial.hasAttribute(HOOK_COLOR_BG_ATTRIBUTE)) {\n        initial.setAttribute(BG_ACTUAL_ATTRIBUTE, attribute);\n      } else {\n        initial.setAttribute(BG_ACTUAL_ATTRIBUTE, false);\n      }\n      initial.setAttribute(LIGHT_ATTRIBUTE, false);\n    } else {\n      var attribute = DEFAULT_BG;\n      if(parent) {\n        attribute = parent.getAttribute(BG_DEFINE_ATTRIBUTE);\n      }\n      initial.setAttribute(LIGHT_ATTRIBUTE, window.colors.colors[attribute].light);\n    }\n  }\n}\n\nfunction runBg(wrapper) {\n  var allbg = wrapper.querySelectorAll(\"[\"+HOOK_BG_ATTRIBUTE+\"]\");\n  for(var i = 0; i < allbg.length; i++) {\n    var parent = allbg[i];\n    while(!parent.hasAttribute(BG_DEFINE_ATTRIBUTE) && (parent = parent.parentElement));\n    \n    var initial = allbg[i];\n    var attribute = DEFAULT_BG;\n    if(parent) {\n      attribute = parent.getAttribute(BG_DEFINE_ATTRIBUTE);\n    }\n    initial.setAttribute(BG_ACTUAL_ATTRIBUTE, attribute);\n  }\n}\n\n\nfunction benchmark() {\n  var start = performance.now();\n  var count = 10000;\n  for(var i = 0; i < count; i++) {\n    runColors(document);\n    runBg(document);\n  }\n  alert((performance.now() - start) / count + \"ms per operation, total: \" + (performance.now() - start));\n}\n\nfunction applyForRandom(attributeName) {\n  var keys = Object.keys(window.colors.colors);\n  var allbg = document.querySelectorAll(\"[\"+attributeName+\"='random']\");\n  for(var i = 0; i < allbg.length; i++) {\n    var parent = allbg[i];\n    parent.setAttribute(attributeName, keys[Math.floor(Math.random() * keys.length)]);\n  }\n}\napplyForRandom(BG_DEFINE_ATTRIBUTE);\napplyForRandom(COLOR_DEFINE_ATTRIBUTE);\n\nwindow.generateColors = function(element) {\n  var start = performance.now();\n  if(!element) {\n    element = document;\n  } else if (element.parentNode) {\n    element = element.parentNode;\n  }\n  runColors(element);\n  runBg(element);\n  var end = performance.now();\n  console.log(\"Applying colors took: \" + (end - start).toFixed(2) + \"ms\");\n};\nif(window.Polymer) {\n  window.addEventListener(\"WebComponentsReady\", function(){\n    window.generateColors(document);\n  });  \n} else if (window.GenerateColorsOnLoad) {\n  window.onload(function(e){\n    window.generateColors(document);\n  });\n} else {\n  window.generateColors(document);\n}"],"sourceRoot":"/source/"}